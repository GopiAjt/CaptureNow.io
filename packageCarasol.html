<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flickity@2.2.2/dist/flickity.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <style>
    /* Add a style for the highlighted state */
    .card.highlighted {
      border: 2px solid #3490dc;
    }
  </style>
  <title>Wedding Packages Carousel</title>
</head>
<body class="bg-gray-100">

<div class="carousel" data-flickity='{ "wrapAround": true }'>
  <!-- JavaScript will populate the carousel items here -->
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var packages = [
      // Your data goes here
      {
        category: "Wedding",
        description: "When estimating the amount of work, in addition to the hours spent shooting, don't forget to include:\n\nMeeting with the bride and groom before the wedding;\nCreating and filing contracts and other paperwork;\nShooting engagement photos, if included in the price;\nTravelling to the location;\nUploading and sorting images;\nEditing images;\nCreating any deliverables such as prints or digital copies along with album design.\nWhen everything is considered, photographing a wedding does not end up being a task that can be completed in a single day. The response shifts somewhat from one photographer to the next in this regard. The ten hours spent on the wedding day itself are only a fraction of the total 30â€“40 hours of labour that go into producing a full wedding package",
        eventRate: 2000000,
        id: 1,
        oneDayRate: 11000,
        oneHourRate: 2000,
        packageName: "wedding",
        videoRate: 20000
      },
      {
          category: "Wedding",
          description: "When estimating the amount of work...",
          eventRate: 2000000,
          id: 2,
          oneDayRate: 11000,
          oneHourRate: 2000,
          packageName: "wedding",
          videoRate: 20000
        },
        {
          category: "Wedding",
          description: "Includes 8 hours of photography, complimentary engagement shoot, online gallery for sharing, and professional editing.",
          eventRate: 23400,
          id: 3,
          oneDayRate: 1200,
          oneHourRate: 1000,
          packageName: "wedding",
          videoRate: 1500
        },
        {
          category: "Wedding",
          description: "Includes 10 hours of photography, complimentary engagement shoot, online gallery for sharing, and professional editing.",
          eventRate: 23400,
          id: 4,
          oneDayRate: 1200,
          oneHourRate: 1000,
          packageName: "wedding",
          videoRate: 1500
        },
        {
          category: "Wedding",
          description: "Includes 12 hours of photography, a second photographer, complimentary engagement shoot, online gallery for sharing, and professional editing.",
          eventRate: 23400,
          id: 5,
          oneDayRate: 1200,
          oneHourRate: 1000,
          packageName: "wedding",
          videoRate: 1500
        }
      // Additional data...
    ];

    var carousel = document.querySelector('.carousel');

    packages.forEach(function (package, index) {
      var cell = document.createElement("div");
      cell.className = "carousel-cell mx-2";

      var card = document.createElement("div");
      card.className = "card bg-white rounded-lg overflow-hidden shadow-md p-4";
      card.dataset.id = package.id; // Set the data-id attribute

      var title = document.createElement("h5");
      title.className = "card-title text-xl font-semibold mb-2";
      title.textContent = package.packageName;

      var description = document.createElement("p");
      description.className = "card-text text-gray-600 mb-4";
      description.textContent = package.description;

      var eventRate = document.createElement("p");
      eventRate.className = "card-text text-blue-600 mb-1";
      eventRate.textContent = `Event Rate: ${package.eventRate}`;

      var oneDayRate = document.createElement("p");
      oneDayRate.className = "card-text text-blue-600 mb-1";
      oneDayRate.textContent = `One Day Rate: ${package.oneDayRate}`;

      var oneHourRate = document.createElement("p");
      oneHourRate.className = "card-text text-blue-600 mb-1";
      oneHourRate.textContent = `One Hour Rate: ${package.oneHourRate}`;

      var videoRate = document.createElement("p");
      videoRate.className = "card-text text-blue-600 mb-1";
      videoRate.textContent = `Video Rate: ${package.videoRate}`;

      card.appendChild(title);
      card.appendChild(description);
      card.appendChild(eventRate);
      card.appendChild(oneDayRate);
      card.appendChild(oneHourRate);
      card.appendChild(videoRate);

      cell.appendChild(card);
      carousel.appendChild(cell);
    });

    // Initialize Flickity
    var flkty = new Flickity('.carousel', {
      wrapAround: true,
      cellAlign: 'left',
      contain: true,
    });

    // Add click event listener to the carousel
    carousel.addEventListener('click', function (event) {
      // Remove the highlight class from all cards
      var cards = document.querySelectorAll('.card');
      cards.forEach(function (card) {
        card.classList.remove('highlighted');
      });

      // Check if the clicked element is a card
      var card = event.target.closest('.card');
      if (card) {
        // Log the ID associated with the clicked card
        console.log('Clicked Card ID:', card.dataset.id);

        // Add the highlight class to the clicked card
        card.classList.add('highlighted');
      }
    });
  });
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flickity@2.2.2/dist/flickity.pkgd.min.js"></script>

</body>
</html>
